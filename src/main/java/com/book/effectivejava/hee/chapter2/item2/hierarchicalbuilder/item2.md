# [Item2] ìƒì„±ìì— ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë”ë¥¼ ê³ ë ¤í•˜ë¼.

### POINT
``` 
Item2 ì„ ì œëŒ€ë¡œ ì´í•´í•˜ê¸° ìœ„í•´ì„œ ì•Œì•„ì•¼ í•  ë¶€ë¶„
- ìë°”ë¹ˆì¦ˆ, ê²Œí„°, ì„¸í„°
- ê°ì²´ ì–¼ë¦¬ê¸° (freezing)
- ë¹Œë”íŒ¨í„´
- IllegalArgumentException
- ê°€ë³€ì¸ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
```

###ì„ íƒ ë§¤ê°œë³€ìˆ˜ê°€ ë§ì„ ë•Œì˜ ëŒ€ì‘ë°©ë²•

1. ì ì¸µì  ìƒì„±ì íŒ¨í„´ (telescoping constructor pattern) - í™•ì¥í•˜ê¸° ì–´ë µë‹¤!

   í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë§Œ ë°›ëŠ” ìƒì„±ì, í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ì™€ ì„ íƒ ë§¤ê°œë³€ìˆ˜ 1ê°œë¥¼ ë°›ëŠ” ìƒì„±ì, ì„ íƒ ë§¤ê°œë³€ìˆ˜ë¥¼ 2ê°œ ë°›ëŠ” ìƒì„±ì, ... í˜•íƒœë¡œ ì„ íƒ ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë¶€ ë‹¤ ë°›ëŠ” ìƒì„±ìê¹Œì§€ ëŠ˜ë ¤ê°€ëŠ” ë°©ì‹

   â‡’ ì ì¸µì  ìƒì„±ì íŒ¨í„´ë„ ì“¸ ìˆ˜ëŠ” ìˆì§€ë§Œ, ë§¤ê°œë³€ìˆ˜ ê°œìˆ˜ê°€ ë§ì•„ì§€ë©´ ì½ê¸° ì–´ë µë‹¤ !


2. ìë°”ë¹ˆì¦ˆ íŒ¨í„´ (JavaBeans pattern) - ì¼ê´€ì„±ì´ ê¹¨ì§€ê³ , ë¶ˆë³€ê°ì²´ë¡œ ë§Œë“¤ ìˆ˜ ì—†ë‹¤

   ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ìë¡œ ê°ì²´ë¥¼ ë§Œë“  í›„, setterë¥¼ í˜¸ì¶œí•´ ì›í•˜ëŠ” ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ì‹

   â‡’ ê°ì²´ í•˜ë‚˜ë¥¼ ë§Œë“¤ë ¤ë©´ ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ ê°œ ( ë³€ê²½í•´ì¤„ fieldê°’ì˜ ê°¯ìˆ˜ë§Œí¼) í˜¸ì¶œí•´ì•¼ í•˜ê³ , ê°ì²´ê°€ ì™„ì „íˆ ìƒì„±ë˜ê¸° ì „ê¹Œì§€ëŠ” ì¼ê´€ì„±ì´ ë¬´ë„ˆì§„ ìƒíƒœì— ë†“ì´ê²Œ ëœë‹¤.

>    ğŸŒ€ ì¼ê´€ì„±ì´ ê¹¨ì§„ ê°ì²´ì˜ ë¬¸ì œ
    ë²„ê·¸ë¥¼ ì‹¬ì€ ì½”ë“œì™€ ê·¸ ë²„ê·¸ ë•Œë¬¸ì— ëŸ°íƒ€ì„ì— ë¬¸ì œë¥¼ ê²ªëŠ” ì½”ë“œê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ë©€ë¦¬ ë–¨ì–´ì ¸ ìˆì„ ê²ƒì´ë¯€ë¡œ ë””ë²„ê¹…ì´ ì–´ë µë‹¤
    ì¼ê´€ì„±ì´ ë¬´ë„ˆì§„ ìƒíƒœì—ì„œëŠ” í´ë˜ìŠ¤ë¥¼ ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ë‹¤(?) ìŠ¤ë ˆë“œ ì•ˆì „ì„±ì´ ë¬´ë„ˆì§„ë‹¤(?)


3. ë¹Œë” íŒ¨í„´ (Builder pattern) - ì ì¸µì  ìƒì„±ì íŒ¨í„´ê³¼ ìë°”ë¹ˆì¦ˆ íŒ¨í„´ì˜ ì¥ì ë§Œ ì·¨í–ˆë‹¤.
    1. í•„ìš”í•œ ê°ì²´ë¥¼ ì§ì ‘ ë§Œë“œëŠ” ëŒ€ì‹ , í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜ë§Œìœ¼ë¡œ ìƒì„±ì (í˜¹ì€ ì •ì  íŒ©í„°ë¦¬)ë¥¼ í˜¸ì¶œí•´ ë¹Œë” ê°ì²´ë¥¼ ì–»ëŠ”ë‹¤.
    2. ë¹Œë” ê°ì²´ê°€ ì œê³µí•˜ëŠ” ì¼ì¢…ì˜ setter ë©”ì„œë“œë“¤ë¡œ ì›í•˜ëŠ” ì„ íƒ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.
    3. ë§¤ê°œë³€ìˆ˜ê°€ ì—†ëŠ” build ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ì„œ ê°ì²´ë¥¼ ì–»ëŠ”ë‹¤ (ì´ë•Œ ë³´í†µì€ ë¶ˆë³€ ê°ì²´ë¥¼ ì–»ê²Œ ëœë‹¤)
    
>    ğŸŒ€ ë¹Œë”ëŠ” ìƒì„±í•  í´ë˜ìŠ¤ ì•ˆì— ì •ì  ë©¤ë²„ í´ë˜ìŠ¤ë¡œ ë§Œë“¤ì–´ë‘ëŠ” ê²Œ ì¼ë°˜ì ì´ë‹¤

    
    public class NutritionFacts {
    	private final int servingSize;
    	private final int servings;
    	private final int calories;
    	private final int fat;
    	private final int sodium;
    	private final int carbohydrate;
    
    	public static class Builder {
    		// í•„ìˆ˜ ë§¤ê°œë³€ìˆ˜
    		private final int servingSize;
    		private final int servings;
    		
    		// ì„ íƒ ë§¤ê°œë³€ìˆ˜ - ê¸°ë³¸ê°’ìœ¼ë¡œ ì´ˆê¸°í™”
    		private int calories     = 0;
    		private int fat          = 0;
    		private int sodium       = 0;
    		private int carbohydrate = 0;
    
    		public Builder(int servingSize, int servings) {
    			this.servingSize = servingSize;
    			this.servings    = servings;
    		}
    
    		// ë¹Œë”ì˜ ì„¸í„° ë©”ì„œë“œ : ë¹Œë” ìì‹ ì„ ë°˜í™˜í•˜ì—¬ ë©”ì„œë“œ ì—°ì‡„(method chaining) = fluent API ë°©ì‹ìœ¼ë¡œ í˜¸ì¶œê°€ëŠ¥!
    		public Builder calories(int val)     { calorises    = val; return this; }       //ì§ˆë¬¸ !!!! ì™œ,  this.calories = val ì´ ì•„ë‹Œê±°ì„?!?!?!?!
    		public Builder fat(int val)          { fat          = val; return this; }
    		public Builder sodium(int val)       { sodium       = val; return this; }
    		public Builder carbohydrate(int val) { carbohydrate = val; return this; }
    
    		public NutritionFacts build() {
    			return new NutritionFacts(this);
    		}
    
    		private NutritionFacts(Builder builder) {
    			servingSize  = builder.servingSize;
    			servings     = builder.serving;
    			calories     = builder.calories;
    			fat          = builder.fat;
    			sodium       = builder.sodium;
    			carbohydrate = builder.carbohydrate;
    		}
    	}
    }
    
    // ë¹Œë”ì˜ ì‚¬ìš© ì˜ˆì‹œ
    NutritionFacts cocaCola = new NutiritionFacts.Builder(240, 8)
    															.calories(100)
    															.sodium(35)
    															.carbohydrate(27)
    															.build();
    ```

   Q) â€œNutritionFacts í´ë˜ìŠ¤ëŠ” ë¶ˆë³€ì´ë©°, ëª¨ë“  ë§¤ê°œë³€ìˆ˜ì˜ ê¸°ë³¸ê°’ë“¤ì„ í•œ ê³³ì— ëª¨ì•„ ë’€ë‹¤â€  ë¼ëŠ” ë¬¸ì¥ì´ ì´í•´ê°€ ì•ˆ ê°€!

   <img src="immutable.png" width="500">


   ë¹Œë” íŒ¨í„´ì€ **ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„ëœ í´ë˜ìŠ¤**ì™€ í•¨ê»˜ ì“°ê¸°ì— ì¢‹ë‹¤ â‡’ ê³„ì¸µì ìœ¼ë¡œ ì„¤ê³„??? â‡’ ì•„! ìƒì†êµ¬ì¡°ë¥¼ ì˜ë¯¸í•˜ëŠ” ê±´ê°€? ì¶”ìƒí´ë˜ìŠ¤ ì–˜ê¸°ê°€ ë‚˜ì˜¤ëŠ” ê±¸ ë³´ë‹ˆê¹Œ!

   ê° ê³„ì¸µì˜ í´ë˜ìŠ¤ì— ê´€ë ¨ ë¹Œë”ë¥¼ ë©¤ë²„ë¡œ ì •ì˜ : ì¶”ìƒ í´ë˜ìŠ¤ â†’ ì¶”ìƒ ë¹Œë” / êµ¬ì²´ í´ë ˆìŠ¤(concrete class) â†’ êµ¬ì²´ ë¹Œë”

   ìƒì„±ì íŒ¨í„´ê³¼ ë¹„êµí•  ë•Œ, ë¹Œë”ëŠ” ê°€ë³€ì¸ìˆ˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì—¬ëŸ¬ ê°œ ì‚¬ìš© ê°€ëŠ¥(?) : ê°ê°ì„ ì ì ˆí•œ ë©”ì„œë“œë¡œ ë‚˜ëˆ  ì„ ì–¸ or ë©”ì„œë“œë¥¼ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œí•˜ë„ë¡ í•˜ê³  ê° í˜¸ì¶œ ë•Œ ë„˜ê²¨ì§„ ë§¤ê°œë³€ìˆ˜ë¥¼ í•˜ë‚˜ì˜ í•„ë“œë¡œ ëª¨ì„ ìˆ˜ ìˆìŒ (?)

   ë¹Œë” íŒ¨í„´ì˜ ìœ ì—°í•¨ ! â‡’ ë¹Œë” í•˜ë‚˜ë¡œ ì—¬ëŸ¬ ê°ì²´ë¥¼ ìˆœíšŒê°€ ê°€ëŠ¥ , ë¹Œë”ì— ë„˜ê¸°ëŠ” ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ë‹¤ë¥¸ ê°ì²´ ìƒì„±ì´ ê°€ëŠ¥ , ê°ì²´ë§ˆë‹¤ ë¶€ì—¬ë˜ëŠ” ì¼ë ¨ë²ˆí˜¸ì™€ ê°™ì€ íŠ¹ì • í•„ë“œëŠ” ë¹Œë”ê°€ ì•Œì•„ì„œ ì±„ìš°ë„ë¡ í•  ìˆ˜ ìˆìŒ


ë¹Œë”íŒ¨í„´ì˜ ë‹¨ì 

1. ê°ì²´ë¥¼ ë§Œë“¤ê¸° ì „, ë¹Œë”ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.
2. ë¹Œë”ìƒì„±ë¹„ìš©ì´ í¬ì§€ëŠ” ì•Šì§€ë§Œ ì„±ëŠ¥ì— ë¯¼ê°í•œ ìƒí™©ì€ ê³ ë ¤í•´ì•¼í•œë‹¤.
3. ì ì¸µì  ìƒì„±ì íŒ¨í„´ê³¼ ë¹„êµí•˜ë©´ ì½”ë“œê°€ ë³µì¡ â†’ ë§¤ê°œë³€ìˆ˜ 4ê°œ ì´ìƒì¼ ë•Œ ê°€ì„±ë¹„ ! ( BUT ! APIëŠ” ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë§¤ê°œë³€ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ëŠ” ê²½í–¥ì´ ìˆìœ¼ë‹ˆ ë‚˜ì˜ì§€ ì•Šì€ ì´ˆì´ìŠ¤ ! )


> ğŸŒ€ ê²°ë¡   : **ìƒì„±ìë‚˜ ì •ì  íŒ©í„°ë¦¬ê°€ ì²˜ë¦¬í•´ì•¼ í•  ë§¤ê°œë³€ìˆ˜ê°€ ë§ë‹¤ë©´ ë¹Œë” íŒ¨í„´ì„ ì„ íƒí•˜ëŠ” ê²Œ ë‚«ë‹¤.**   
ë§¤ê°œë³€ìˆ˜ ì¤‘ ë‹¤ìˆ˜ê°€ í•„ìˆ˜ê°€ ì•„ë‹ˆê±°ë‚˜ ê°™ì€ íƒ€ì…ì´ë©´ íŠ¹íˆ ë” ê·¸ë ‡ë‹¤.     
> ë¹Œë”ëŠ” ì ì¸µì  ìƒì„±ìë³´ë‹¤ í´ë¼ì´ì–¸íŠ¸ ì½”ë“œë¥¼ ì½ê³  ì“°ê¸°ê°€ í›¨ì”¬ ê°„ê²°í•˜ê³ , ìë°”ë¹ˆì¦ˆë³´ë‹¤ í›¨ì”¬ ì•ˆì „í•˜ë‹¤ !
